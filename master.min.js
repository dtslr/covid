let codes=[{n:"Australia",c:"AU"},{n:"Bangladesh",c:"BD"},{n:"Belgium",c:"BE"},{n:"Brazil",c:"BR"},{n:"China",c:"CN"},{n:"Croatia",c:"HR"},{n:"Denmark",c:"DK"},{n:"Egypt",c:"EG"},{n:"France",c:"FR"},{n:"Germany",c:"DE"},{n:"India",c:"IN"},{n:"Iran",c:"IR"},{n:"Iraq",c:"IQ"},{n:"Ireland",c:"IE"},{n:"Italy",c:"IT"},{n:"Japan",c:"JP"},{n:"Liechtenstein",c:"LI"},{n:"Luxembourg",c:"LU"},{n:"Mexico",c:"MX"},{n:"Netherlands",c:"NL"},{n:"Portugal",c:"PT"},{n:"Russia",c:"RU"},{n:"South Korea",c:"KR"},{n:"Spain",c:"ES"},{n:"Sweden",c:"SE"},{n:"Switzerland",c:"CH"},{n:"Turkey",c:"TR"},{n:"United States",c:"US"}],countryInput=document.getElementById("cInput"),getCountryData=()=>{let e=new XMLHttpRequest;e.open("GET","https://corona.lmao.ninja/v2/countries",!1),e.send();let t=JSON.parse(e.responseText);return t},getWorldData=()=>{let e=new XMLHttpRequest;e.open("GET","https://corona.lmao.ninja/v2/all",!1),e.send();let t=JSON.parse(e.responseText);return t},getArea=()=>{if(codes.filter(e=>e.c===countryInput.value.toUpperCase())){let e=codes.filter(e=>e.c===countryInput.value.toUpperCase())[0];return e||(e={n:"World"}),e}},getPopulation=e=>{let t=new XMLHttpRequest;t.open("GET",`https://restcountries.eu/rest/v2/alpha/${e}`,!1),t.send();let n=JSON.parse(t.responseText);return n};countryInput.addEventListener("input",e=>{let t=getArea().n,n=getCountryData().filter(e=>e.countryInfo.iso2===getArea().c)[0];n?n.population=getPopulation(getArea().c).population:n=getWorldData(),changeData(t,n)});let changeData=(e,t)=>{let n,a;n=0===t.todayCases?t.todayCases:t.todayCases<0?`-${t.todayCases}`:`+${t.todayCases}`,a=0===t.todayDeaths?t.todayDeaths:t.todayCases<0?`-${t.todayDeaths}`:`+${t.todayDeaths}`;document.getElementById("cName").innerHTML=e,document.getElementById("cCases").innerHTML=t.cases,document.getElementById("cDeath").innerHTML=t.deaths,document.getElementById("cAff").innerHTML=getWorldData().affectedCountries,document.getElementById("cTime").innerHTML=new Date(t.updated).toUTCString(),document.getElementById("cTc").innerHTML=n,document.getElementById("cTd").innerHTML=a,document.getElementById("pop").innerHTML=t.population||"7800000000+",document.getElementById("tpm").innerHTML=t.testsPerOneMillion,document.getElementById("cpm").innerHTML=t.casesPerOneMillion};window.onload=changeData("World",getWorldData());